<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The ExpressionEvaluator Class &mdash; CoderGPT 0.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7026087e"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="codergpt" href="modules.html" />
    <link rel="prev" title="Test Writing Module" href="test_writer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            CoderGPT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="description.html">CoderGPT</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer.html">Developer Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command line interface for CoderGPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html"><code class="docutils literal notranslate"><span class="pre">CodeCommenter</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html#codergpt.CodeDocumenter"><code class="docutils literal notranslate"><span class="pre">CodeDocumenter</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html#codergpt.CodeExplainer"><code class="docutils literal notranslate"><span class="pre">CodeExplainer</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html#codergpt.CodeOptimizer"><code class="docutils literal notranslate"><span class="pre">CodeOptimizer</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html#codergpt.CoderGPT"><code class="docutils literal notranslate"><span class="pre">CoderGPT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html#codergpt">CoderGPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="explainer.html">Explainer Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="commenter.html">Commenter Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimizer.html">Optimizer Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_writer.html">Test Writing Module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">The ExpressionEvaluator Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initialization">Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#visit-functiondef">visit_FunctionDef</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visit-classdef">visit_ClassDef</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">codergpt</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CoderGPT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="developer.html">Developer Documentation</a></li>
      <li class="breadcrumb-item active">The ExpressionEvaluator Class</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/expression_evaluator.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-expressionevaluator-class">
<h1>The ExpressionEvaluator Class<a class="headerlink" href="#the-expressionevaluator-class" title="Link to this heading"></a></h1>
<p>The ExpressionEvaluator class is designed for evaluating code expressions and extracting the source code of specified functions or classes from a given source code input. It utilizes the Abstract Syntax Tree (AST) provided by Python’s <code class="docutils literal notranslate"><span class="pre">ast</span></code> module to navigate and interpret the structure of the code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">expression_evaluator</span> <span class="kn">import</span> <span class="n">ExpressionEvaluator</span>
</pre></div>
</div>
<section id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Link to this heading"></a></h2>
<p>To initialize an instance of the ExpressionEvaluator class, the source code to be analyzed needs to be provided, along with optional parameters specifying the names of the function or class to extract.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">evaluator</span> <span class="o">=</span> <span class="n">ExpressionEvaluator</span><span class="p">(</span><span class="n">source_code</span><span class="p">,</span> <span class="n">function_name</span><span class="o">=</span><span class="s2">&quot;my_function&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="o">=</span><span class="s2">&quot;MyClass&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">source_code</span></code>: The complete source code as a string.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_name</span></code>: Optional. The name of the function to find and extract from the source code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class_name</span></code>: Optional. The name of the class to find and extract from the source code.</p></li>
</ul>
</section>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">function_code</span></code>: After evaluation, this attribute contains the extracted source code of the specified function, if found.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class_code</span></code>: After evaluation, this attribute contains the extracted source code of the specified class, if found.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_name</span></code>: The name of the function to search for in the source code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class_name</span></code>: The name of the class to search for in the source code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source_code</span></code>: The source code provided during initialization.</p></li>
</ul>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Link to this heading"></a></h2>
<section id="visit-functiondef">
<h3>visit_FunctionDef<a class="headerlink" href="#visit-functiondef" title="Link to this heading"></a></h3>
<p>This method is called when a function definition node is encountered in the AST. If the name of the function matches the target function name specified during initialization, the source segment of the function is extracted.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">visit_FunctionDef</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: An instance of <code class="docutils literal notranslate"><span class="pre">ast.FunctionDef</span></code> representing a function definition node in the AST.</p></li>
</ul>
</section>
<section id="visit-classdef">
<h3>visit_ClassDef<a class="headerlink" href="#visit-classdef" title="Link to this heading"></a></h3>
<p>This method is called when a class definition node is encountered in the AST. If the name of the class matches the target class name specified during initialization, the source segment of the class is extracted.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">visit_ClassDef</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: An instance of <code class="docutils literal notranslate"><span class="pre">ast.ClassDef</span></code> representing a class definition node in the AST.</p></li>
</ul>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<p>To utilize the ExpressionEvaluator class, an instance must be created with the source code and optionally the function or class name. After initialization, the Abstract Syntax Tree is traversed, and if the specified function or class is found, its source code is extracted and stored in the <code class="docutils literal notranslate"><span class="pre">function_code</span></code> or <code class="docutils literal notranslate"><span class="pre">class_code</span></code> attributes respectively.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">def hello_world():</span>
<span class="s1">    print(&quot;Hello, world!&quot;)</span>

<span class="s1">class Greeter:</span>
<span class="s1">    def greet(self):</span>
<span class="s1">        print(&quot;Hello, world!&quot;)</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="n">evaluator</span> <span class="o">=</span> <span class="n">ExpressionEvaluator</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">function_name</span><span class="o">=</span><span class="s2">&quot;hello_world&quot;</span><span class="p">)</span>
<span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="n">evaluator</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">evaluator</span><span class="o">.</span><span class="n">function_code</span><span class="p">)</span>
<span class="c1"># Output: def hello_world():\n    print(&quot;Hello, world!&quot;)</span>
</pre></div>
</div>
<p>This class provides a straightforward way to extract specific portions of code from a larger source code base, leveraging the power of Python’s AST for code analysis and manipulation.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="test_writer.html" class="btn btn-neutral float-left" title="Test Writing Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="codergpt" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Harshad Hegde &lt;hhegde@lbl.gov&gt;.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>